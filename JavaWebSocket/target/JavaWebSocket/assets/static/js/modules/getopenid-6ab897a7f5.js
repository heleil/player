!function(e,o,n){"use strict";function i(e,o,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+escape(o)+(null==n?"":";expires="+i.toGMTString())}function t(e){if(document.cookie.length>0){var o=document.cookie.indexOf(e+"=");if(o!=-1){var o=o+e.length+1,n=document.cookie.indexOf(";",o);return n==-1&&(n=document.cookie.length),unescape(document.cookie.substring(o,n))}}return""}function d(o,n){return LOCAL_TEST?(sessionStorage.setItem(juli.openIdkey,"1234567890"),i(juli.openIdkey,"1234567890",30),utils.openid="1234567890",void(window.openId="1234567890")):void e.ajax({url:o,type:"GET",dataType:"json",async:!1,data:{code:n}}).done(function(e){console.log(e),"0"===e.error?window.location.href=a:(sessionStorage.setItem(juli.openIdkey,e.openid),i(juli.openIdkey,e.openid,30),utils.openid=e.openid,window.openId=e.openid)}).fail(function(){console.log("error")})}var c={parse:function(e){var o=/[\?&]([^\?&=]+)=([^&]+)/g,n=null,i={};for(e=e||window.location.search;null!=(n=o.exec(e));)i[n[1]]=decodeURIComponent(n[2]);return i},get:function(e,o){var n=this.parse(o);return n[e]?n[e]:""},check:function(e){var o=/^https?:\/\/[a-z]+\.fenqile\.com\//i,n=!0;return/^https?/.test(e)&&(n=o.test(e)),n}},r=window.location.href,s=location.href.split("#")[0],a="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+window.juli.appid+"&redirect_uri="+s+"&response_type=code&scope=snsapi_base#wechat_redirect",u=c.get("code",r);window.openId="",window.deviceId="",""!==sessionStorage.getItem(juli.openIdkey)&&null!==sessionStorage.getItem(juli.openIdkey)||d(juli.URL.codeid,u),window.getDeviceId=function(){var o="";o=""===sessionStorage.getItem(juli.openIdkey)||null===sessionStorage.getItem(juli.openIdkey)?t(juli.openIdkey):sessionStorage.getItem(juli.openIdkey),console.log(o),e.ajax({url:juli.URL.getdevice,type:"GET",dataType:"html",async:!1,data:{openId:o}}).done(function(e){window.deviceId=e,""!==window.deviceId&&window.deviceId!==n||(window.location.href="doscaninfo.html")}).fail(function(){console.log("error")})}}(jQuery,window);