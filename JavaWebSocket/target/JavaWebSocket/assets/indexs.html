<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=640,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="format-detection" content="telphone=no, email=no" />
    <meta name="HandheldFriendly" content="true">
    <meta name="MobileOptimized" content="640">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">
    <meta name="full-screen" content="yes">
    <meta name="x5-fullscreen" content="true">
    <meta name="browsermode" content="application">
    <meta name="x5-page-mode" content="app">
    <meta name="msapplication-tap-highlight" content="no">
    <link rel="stylesheet" href="static/css/weui-69ad285e9a.min.css">
    <link rel="stylesheet" href="static/css/jquery-weui-5e89bf3730.css">
    <link rel="stylesheet" href="static/css/zb-1s-4b26b93aa5.css" />
    <title>快乐笨世界</title>
   <!-- <script src="static/js/lib/vconsole-1be6e965ce.min.js"></script>
    <script>
        var vConsole = new VConsole();
    </script>-->
</head>

<body>
    <div class="index">
        <section class="common-container play-bar-after search-bar-after">
            <!--搜索模块start-->
            <div class="search-bar-new main-bc">
                <div class="content main-bc">
                    <section class="icon" v-on:click.stop.prevent="search">
                        <img src="static/image/icon/icon-search.jpg">
                    </section>
                    <section>
                        <input v-model="input" @keyup.13="search" type="text" placeholder="搜索专辑、故事、歌曲" />
                    </section>
                </div>
            </div>
            <!--搜索模块emd-->
            <!--头部广告图-->



         <!--   <div class="top-banner">
                <img src="static/img/banner0.jpg" alt="">
            </div>-->
            <div class="window">
                <ul class="pic">
                   <!-- <li>
                        <a href="http://mp.weixin.qq.com/s/-2lGZTyBhAhyJ64eOQY2zw" style="display: block"><img src="static/img/banner4.jpg" alt=""></a>
                    </li>
                    <li>
                        <a href="http://mp.weixin.qq.com/s/-TOZ0WwUPnA3wkinXFd5Kg" style="display: block"><img src="static/img/banner3.jpg" alt=""></a>
                    </li>
                    <li>
                        <a href="javascript:;" style="display: block"><img src="static/img/banner0.jpg" alt=""></a>
                    </li>-->
                    <li>
                        <a href="http://47.105.103.174/aq-5/player.html" style="display: block"><img src="http://192.144.159.130/player/img/headline-1-banner.gif" alt=""></a>
                    </li>
                   
                    <li>
                        <a href="http://47.105.103.174/aq-5/lewo.html" style="display: block"><img src="http://192.144.159.130/player/img/headline-2-banner.gif" alt=""></a>
                    </li>

                    <li>
                        <a href="http://47.105.103.174/aq-5/title.html" style="display: block"><img src="http://192.144.159.130/player/img/headline-3-banner.gif" alt=""></a>
                    </li>
                </ul>
                <div class="indexCt">
                    <ul class="pageIndex clearfix">
                    </ul>
                </div>
            </div>

            <p v-if="loading" class="v-loading">加载中...</p>
            <div class="article-list" v-if="loading==false" v-cloak v-for="item in contents" >
                <a href="list.html?id={{item.id}}">
                    <div class="sub-title" style="margin-bottom: 1.3rem">
                        <div class="left">{{item.name}}</div>
                        <img src="static/img/right.png" style="margin-right: 1rem">
                    </div>
                </a>
                <div class="list">
                    <ul class="clearfix" v-for="n in 2">
                        <li class="animate-box" v-for="i in 4">
                           <!-- <a href="source.html?id={{item.contents[n*4+i].id}}" v-if="item.contents[n*4+i].albumType!=2">
                                <img v-bind:src=item.contents[n*4+i].imgSmall alt="">
                            </a>
                            <a href="list.html?id={{item.contents[n*4+i].id}}&albumType={{item.contents[n*4+i].albumType}}" v-if="item.contents[n*4+i].albumType==2">
                                <img v-bind:src=item.contents[n*4+i].imgSmall alt="">
                            </a>-->
                            <a v-if="item.contents[n*4+i].albumType!=2" v-on:click.stop.prevent="goToSource(item.contents[n*4+i])">
                                <img v-bind:src=item.contents[n*4+i].imgSmall alt="">
                            </a>
                            <a v-if="item.contents[n*4+i].albumType==2" v-on:click.stop.prevent="goToList(item.contents[n*4+i])">
                                <img v-bind:src=item.contents[n*4+i].imgSmall alt="">
                            </a>
                            <h5 v-text="item.contents[n*4+i].name"></h5>
                        </li>
                    </ul>
                </div>
            </div>

            <p style="text-align: center;font-size: 0.1rem;margin-top: 0.5rem;padding-bottom: 0.8rem;" v-if="loading==false" v-cloak>Powered by roobo</p>
            <!--模块循环end-->
            <!--底部播放栏start-->
            <div class="play-bar" v-cloak>
                <div><img src="static/image/icon/playbar-logo-icon.jpg" alt=""></div>
                <p v-text="device_tips"></p>
                <div v-if="isplay"><img src="static/image/icon/playbar-pause-icon.png" v-on:click.stop.prevent="pause()" alt=""></div>
                <div v-if="!isplay"><img src="static/image/icon/playbar-play-icon.png" v-on:click.stop.prevent="resume()" alt=""></div>
                <div><img src="static/image/icon/playbar-forward-icon.png" v-on:click.stop.prevent="forward()" alt=""></div>
                <div class="sp"><img src="static/image/icon/playbar-list-icon.png" v-on:click.stop.prevent="showlist()" alt=""></div>
            </div>
            <!--底部播放栏end-->
            <!--播放界面start-->
            <div class="play-component" id="play-component">
                <div class="close"><img src="static/image/icon/close-icon.jpg" alt=""></div>
                <div class="content">
                    <audio src="" id="audio" style="display:none"></audio>
                    <img class="poster" :src=playerimg alt="">
                    <h3 class="title" v-if="loading">读取机器人信息中.....</h3>
                    <h3 class="title" v-if="!loading" v-text="music"></h3>
                    <div class="btn-g">
                        <div v-if="!islike"><img src="static/image/icon/btn-fav-icon.png" v-on:click.stop.prevent="addfav()" alt=""></div>
                        <div v-if="islike"><img src="static/image/icon/btn-fav-on-icon.png" v-on:click.stop.prevent="dellike()" alt=""></div>
                    </div>
                    <div class="seekbar-container">
                        <span class="left" v-text="currentprogress">01：30</span>
                        <div class="seekbar" id="sliderInner">
                            <div class="process" id="sliderTrack">
                                <img class="seek" id="sliderHandler" src="static/image/icon/seek-icon.png" alt="">
                            </div>
                        </div>
                        <span class="right" v-text="sec">11：30</span>
                    </div>
                    <div class="play-g">
                        <section v-if="!isloop"><img src="static/image/player-repeatone.png" v-on:click.stop.prevent="repeatall()" alt=""></section>
                        <section v-if="isloop"><img src="static/image/player-repeatall.jpg" v-on:click.stop.prevent="repeatone()" alt=""></section>
                        <section><img src="static/image/player-backward.jpg" alt="" v-on:click.stop.prevent="backward()"></section>
                        <section v-if="isplay"><img src="static/image/player-play.jpg" v-on:click.stop.prevent="pause()" alt=""></section>
                        <section v-if="!isplay"><img src="static/image/player-pause.jpg" v-on:click.stop.prevent="resume()" alt=""></section>
                        <section><img src="static/image/player-forward.jpg" v-on:click.stop.prevent="forward()" alt=""></section>
                        <section><img src="static/image/player-list.png" v-on:click.stop.prevent="showlist()" alt=""></section>
                    </div>
                    <div class="volume-container seekbar-container">
                        <span class="left" id="minvolume"><img src="static/image/icon/volume1-icon.png" /></span>
                        <div class="seekbar" id="sliderInnerVolume">
                            <div class="process" id="sliderTrackVolume">
                                <img class="seek" id="sliderHandlerVolume" src="static/image/icon/seek-icon.png" alt="">
                            </div>
                        </div>
                        <span class="right" id="maxvolume"><img src="static/image/icon/volume0-icon.png" /></span>
                    </div>
                </div>
            </div>
            <!--播放界面end-->
        </section>
    </div>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        .item-more img {
            transition: transform 0.5s;
        }
        
        .item-more.active img {
            transform: rotate(-90deg);
        }
    </style>
    <script src="static/js/lib/jquery-be4fe7d73b.min.js"></script>
    <script src="static/js/lib/vue-49b7247e5e.js"></script>
    <script src="static/js/lib/jquery-weui-5db5df2198.min.js"></script>
    <script type='text/javascript' src='static/js/config/juli_config-19cf88be1a.js' charset='utf-8'></script>
    <script src="static/js/lib/mqttws31-8cc79f383c.js"></script>
    <script src="static/js/lib/mqttclient-da9135892b.js"></script>
    <script src="static/js/modules/getopenid-70170a4039.js"></script>
    <script type='text/javascript' src='static/js/util/utils-4fcec467d4.js' charset='utf-8'></script>
    <script src="static/js/lib/scrollreveal-7cfdd5019f.min.js"></script>
    <!--<script src="https://pn.sohu.com/cityjson?ie=utf-8"></script>-->
    <script type='text/javascript' src='static/js/components/index-d19cb3f47a.js'></script>
  <!--  <script src="static/js/modules/wx-bc12edfe36.config.js"></script>
    <script src="static/js/components/location-b0c9bb0e88.js"></script>-->
    <script>
        function Carousel($node) {
            this.$pic = $node.find('.pic')
            this.$picWidth = this.$pic.children().width()
            this.picLength = this.$pic.children().length
            this.$btnPrev = $node.find('.btn-prev')
            this.$btnNext = $node.find('.btn-next')
            this.$pageIndex = $node.find('.pageIndex')
            this.mark = 0
            this.lock = false

            this.init()
            this.bind()
            this.autoPlay()
        }


        Carousel.prototype = {
            init: function() {
                var $picFirst = this.$pic.children().eq(0).clone(),
                    $picLast = this.$pic.children().eq(this.picLength - 1).clone()

                this.$pic.prepend($picLast)
                this.$pic.append($picFirst)
                this.$pic.width(this.$picWidth * this.$pic.children().length)
                this.$pic.css({
                    'left': -this.$picWidth
                })
                console.log(this.picLength)
                for (var i = 0; i < this.picLength; i++) {
                    var $li = $('<li></li>')
                    this.$pageIndex.append($li)
                }

                this.$pageIndex.children().eq(0).addClass('active')
            },

            playNext: function() {
                var _this = this
                if (this.lock) {
                    return
                } else {
                    this.lock = true
                    this.$pic.animate({
                        'left': '-=' + this.$picWidth
                    }, function() {
                        _this.mark++
                        if (_this.mark === _this.picLength) {
                            _this.$pic.css('left', -_this.$picWidth)
                            _this.mark = 0
                        }
                        _this.lock = false
                        _this.showBullet()
                    })
                }
            },


            playPrev: function() {
                var _this = this
                if (this.lock) {
                    return
                } else {
                    this.lock = true
                    this.$pic.animate({
                        'left': '+=' + this.$picWidth
                    }, function() {
                        _this.mark--
                        if (_this.mark < 0) {
                            _this.$pic.css('left', -(_this.picLength * _this.$picWidth))
                            _this.mark = _this.picLength - 1
                        }
                        _this.lock = false
                        _this.showBullet()
                    })
                }
            },

            showBullet: function() {
                this.$pageIndex.children().removeClass('active')
                this.$pageIndex.children().eq(this.mark).addClass('active')

            },

            bind: function() {
                var _this = this

                var startPoint = 0;

                this.$btnNext.on('click', function() {
                    _this.playNext()
                })

                this.$btnPrev.on('click', function() {
                    _this.playPrev()
                })

                this.$pic.on('touchstart', function(e) {
                    startPoint = e.changedTouches[0].pageX;
                    console.log(startPoint)
                })
                this.$pic.on('touchend', function(e) {
                    var endPoint = e.changedTouches[0].pageX;
                    console.log(endPoint)
                    var disX = endPoint - startPoint;
                    if(disX>0){
                        _this.playPrev()
                    }else {
                        _this.playNext()
                    }

                })
                this.$pageIndex.on('click', 'li', function() {
                    _this.mark = _this.$pageIndex.children().index($(this))
                    _this.showBullet()
                    _this.$pic.animate({
                        'left': -(_this.mark + 1) * _this.$picWidth
                    })
                })
            },

            autoPlay: function() {
                var _this = this
                setInterval(function() {
                    _this.playNext()
                }, 3000)
            },

        }

        new Carousel($('.window'))
    </script>
</body>

</html>